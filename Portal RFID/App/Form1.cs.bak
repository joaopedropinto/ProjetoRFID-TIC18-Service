using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace WindowsFormsApplication1
{
    public partial class FormPrincipal : Form
    {
        /// <summary>
        /// Cliente do serviço Portal_ID.
        /// </summary>
        static ServiceReference1.Service1Client client;

        /// <summary>
        /// Tipo utilizado para fazer a leitura das tags RFIDs.
        /// </summary>
        static List<ServiceReference1.TagRfidType> tagsRfids;

        /// <summary>
        /// Construtor da classe.
        /// </summary>
        public FormPrincipal()
        {
            InitializeComponent();

            /* Inicialização dos dados. */
            cmbBoxAnt.SelectedIndex = 0;
            client = new ServiceReference1.Service1Client();
            tagsRfids = new List<ServiceReference1.TagRfidType>();
        }

        /// <summary>
        /// Método de tratamento do clique do botão "btnLer".
        /// </summary>
        /// 
        /// Este método é executado sempre que o usuário clica no botão "btnLer".
        /// 
        /// <param name="sender">Objeto gerador do evento.</param>
        /// <param name="e">Argumentos do evento.</param>
        private void btnLer_Click(object sender, EventArgs e)
        {
            tagsRfids = client.GetTagRfid((cmbBoxAnt.SelectedIndex + 1), txtBoxIpPorta.Text, true);

            if (tagsRfids != null)
            {
                if (tagsRfids.Count > 0)
                {
                    lblEpc1Val.Text = tagsRfids[0].EpcValue;
                    lblUser1Val.Text = tagsRfids[0].UserValue;
                    lblAnt1Val.Text = tagsRfids[0].AntValue;

                    if (tagsRfids.Count > 1)
                    {
                        lblEpc2Val.Text = tagsRfids[1].EpcValue;
                        lblUser2Val.Text = tagsRfids[1].UserValue;
                        lblAnt2Val.Text = tagsRfids[1].AntValue;

                        if (tagsRfids.Count > 2)
                        {
                            lblEpc3Val.Text = tagsRfids[2].EpcValue;
                            lblUser3Val.Text = tagsRfids[2].UserValue;
                            lblAnt3Val.Text = tagsRfids[2].AntValue;

                            if (tagsRfids.Count > 3)
                            {
                                lblEpc4Val.Text = tagsRfids[3].EpcValue;
                                lblUser4Val.Text = tagsRfids[3].UserValue;
                                lblAnt4Val.Text = tagsRfids[3].AntValue;

                                if (tagsRfids.Count > 4)
                                {
                                    lblEpc5Val.Text = tagsRfids[4].EpcValue;
                                    lblUser5Val.Text = tagsRfids[4].UserValue;
                                    lblAnt5Val.Text = tagsRfids[4].AntValue;

                                    if (tagsRfids.Count > 5)
                                    {
                                        lblEpc6Val.Text = tagsRfids[5].EpcValue;
                                        lblUser6Val.Text = tagsRfids[5].UserValue;
                                        lblAnt6Val.Text = tagsRfids[5].AntValue;

                                        if (tagsRfids.Count > 6)
                                        {
                                            lblEpc7Val.Text = tagsRfids[6].EpcValue;
                                            lblUser7Val.Text = tagsRfids[6].UserValue;
                                            lblAnt7Val.Text = tagsRfids[6].AntValue;

                                            if (tagsRfids.Count > 7)
                                            {
                                                lblEpc8Val.Text = tagsRfids[7].EpcValue;
                                                lblUser8Val.Text = tagsRfids[7].UserValue;
                                                lblAnt8Val.Text = tagsRfids[7].AntValue;
                                            }
                                            else
                                            {
                                                lblEpc8Val.Text = "...";
                                                lblUser8Val.Text = "...";
                                                lblAnt8Val.Text = "...";
                                            }
                                        }
                                        else
                                        {
                                            lblEpc7Val.Text = "...";
                                            lblUser7Val.Text = "...";
                                            lblAnt7Val.Text = "...";

                                            lblEpc8Val.Text = "...";
                                            lblUser8Val.Text = "...";
                                            lblAnt8Val.Text = "...";
                                        }
                                    }
                                    else
                                    {
                                        lblEpc6Val.Text = "...";
                                        lblUser6Val.Text = "...";
                                        lblAnt6Val.Text = "...";

                                        lblEpc7Val.Text = "...";
                                        lblUser7Val.Text = "...";
                                        lblAnt7Val.Text = "...";

                                        lblEpc8Val.Text = "...";
                                        lblUser8Val.Text = "...";
                                        lblAnt8Val.Text = "...";
                                    }
                                }
                                else
                                {
                                    lblEpc5Val.Text = "...";
                                    lblUser5Val.Text = "...";
                                    lblAnt5Val.Text = "...";

                                    lblEpc6Val.Text = "...";
                                    lblUser6Val.Text = "...";
                                    lblAnt6Val.Text = "...";

                                    lblEpc7Val.Text = "...";
                                    lblUser7Val.Text = "...";
                                    lblAnt7Val.Text = "...";

                                    lblEpc8Val.Text = "...";
                                    lblUser8Val.Text = "...";
                                    lblAnt8Val.Text = "...";
                                }
                            }
                            else
                            {
                                lblEpc4Val.Text = "...";
                                lblUser4Val.Text = "...";
                                lblAnt4Val.Text = "...";

                                lblEpc5Val.Text = "...";
                                lblUser5Val.Text = "...";
                                lblAnt5Val.Text = "...";

                                lblEpc6Val.Text = "...";
                                lblUser6Val.Text = "...";
                                lblAnt6Val.Text = "...";

                                lblEpc7Val.Text = "...";
                                lblUser7Val.Text = "...";
                                lblAnt7Val.Text = "...";

                                lblEpc8Val.Text = "...";
                                lblUser8Val.Text = "...";
                                lblAnt8Val.Text = "...";
                            }
                        }
                        else
                        {
                            lblEpc3Val.Text = "...";
                            lblUser3Val.Text = "...";
                            lblAnt3Val.Text = "...";

                            lblEpc4Val.Text = "...";
                            lblUser4Val.Text = "...";
                            lblAnt4Val.Text = "...";

                            lblEpc5Val.Text = "...";
                            lblUser5Val.Text = "...";
                            lblAnt5Val.Text = "...";

                            lblEpc6Val.Text = "...";
                            lblUser6Val.Text = "...";
                            lblAnt6Val.Text = "...";

                            lblEpc7Val.Text = "...";
                            lblUser7Val.Text = "...";
                            lblAnt7Val.Text = "...";

                            lblEpc8Val.Text = "...";
                            lblUser8Val.Text = "...";
                            lblAnt8Val.Text = "...";
                        }
                    }
                    else
                    {
                        lblEpc2Val.Text = "...";
                        lblUser2Val.Text = "...";
                        lblAnt2Val.Text = "...";

                        lblEpc3Val.Text = "...";
                        lblUser3Val.Text = "...";
                        lblAnt3Val.Text = "...";

                        lblEpc4Val.Text = "...";
                        lblUser4Val.Text = "...";
                        lblAnt4Val.Text = "...";

                        lblEpc5Val.Text = "...";
                        lblUser5Val.Text = "...";
                        lblAnt5Val.Text = "...";

                        lblEpc6Val.Text = "...";
                        lblUser6Val.Text = "...";
                        lblAnt6Val.Text = "...";

                        lblEpc7Val.Text = "...";
                        lblUser7Val.Text = "...";
                        lblAnt7Val.Text = "...";

                        lblEpc8Val.Text = "...";
                        lblUser8Val.Text = "...";
                        lblAnt8Val.Text = "...";
                    }
                }
                else
                {
                    lblEpc1Val.Text = "...";
                    lblUser1Val.Text = "...";
                    lblAnt1Val.Text = "...";

                    lblEpc2Val.Text = "...";
                    lblUser2Val.Text = "...";
                    lblAnt2Val.Text = "...";

                    lblEpc3Val.Text = "...";
                    lblUser3Val.Text = "...";
                    lblAnt3Val.Text = "...";

                    lblEpc4Val.Text = "...";
                    lblUser4Val.Text = "...";
                    lblAnt4Val.Text = "...";

                    lblEpc5Val.Text = "...";
                    lblUser5Val.Text = "...";
                    lblAnt5Val.Text = "...";

                    lblEpc6Val.Text = "...";
                    lblUser6Val.Text = "...";
                    lblAnt6Val.Text = "...";

                    lblEpc7Val.Text = "...";
                    lblUser7Val.Text = "...";
                    lblAnt7Val.Text = "...";

                    lblEpc8Val.Text = "...";
                    lblUser8Val.Text = "...";
                    lblAnt8Val.Text = "...";
                }

                MessageBox.Show("Leitura OK!");
            }
            else
            {
                MessageBox.Show("ERRO!");
            }

            
        }

        /// <summary>
        /// Método de tratamento do clique do botão "btnAtualizar".
        /// </summary>
        /// 
        /// Este método é executado sempre que o usuário clica no botão "btnAtualizar".
        /// 
        /// <param name="sender">Objeto gerador do evento.</param>
        /// <param name="e">Argumentos do evento.</param>
        private void btnAtualizar_Click(object sender, EventArgs e)
        {
            lblLeitorOkVal.Text = client.IsReaderOk(txtBoxIpPorta.Text) ? "SIM" : "NÃO";
        }

        /// <summary>
        /// Método de tratamento do clique do botão "btnEcoOk".
        /// </summary>
        /// 
        /// Este método é executado sempre que o usuário clica no botão "btnAtualizar".
        /// 
        /// <param name="sender">Objeto gerador do evento.</param>
        /// <param name="e">Argumentos do evento.</param>
        private void btnEcoOk_Click(object sender, EventArgs e)
        {
            lblRetornoEcoVal.Text = client.GetEcho(txtBoxEco.Text);
        }

    }
}
